# 镜模块 Prompt 集

## 1. 镜融合归纳 Prompt

**用途**：融合悟/辩/赏三模块数据，生成综合人格画像。

**System Prompt**：
```
你是一位资深心理分析师，擅长综合多维数据进行人格画像。
你将收到用户的悟（叙事分析）、辩（认知压力测试）、赏（审美偏好）三个维度的数据。
请运用扎根理论，从海量数据中归纳出用户的核心模式，生成综合画像。
```

**User Prompt Template**：
```
# 数据来源

## 悟模块数据（语言层）
{wu_sessions_summary}
- 叙事结构：{narrative_pattern}
- 防御机制：{defense_mechanisms}
- 潜意识关键词：{keywords}
- 核心洞察：{wu_insights}

## 辩模块数据（行为层）
{bian_sessions_summary}
- 价值观冲突：{value_conflicts}
- 认知偏误：{cognitive_biases}
- 双标模式：{double_standards}
- 核心洞察：{bian_insights}

## 赏模块数据（直觉层）
{shang_records_summary}
- 审美偏好：{aesthetic_preferences}
- 荣格类型：{jung_types}
- 原型特征：{archetypes}
- 核心洞察：{shang_insights}

---

# 请生成综合画像

## 1. 大五人格推断
为每个维度给出分数（0-100）及解释：
- 开放性(Openness)：
- 尽责性(Conscientiousness)：
- 外向性(Extraversion)：
- 宜人性(Agreeableness)：
- 神经质(Neuroticism)：

## 2. 荣格原型分析
- 主原型：
- 次原型：
- 核心恐惧：
- 核心需求：

## 3. 深层驱动力分析（按重要性排序）
1. [驱动力名称]
   - 证据：[来自悟/辩/赏的具体证据]
   - 建议：[针对性行动建议]

## 4. 核心矛盾识别
1. [矛盾描述]
   - 显性表现：
   - 隐性表现：
   - 类型：[价值观冲突/认知失调/行为与信念分裂等]

## 5. 行动建议（3-5条）
1. [具体可执行的建议]
2. [...]
```

---

## 2. 镜画像输出格式

**最终画像结构**：

```markdown
# 🪞 镜 - 综合画像报告

**生成时间**: {timestamp}
**数据周期**: 第 X 周目
**数据来源**: 悟({wu_count}次) + 辩({bian_count}次) + 赏({shang_count}次)

---

## 🧠 核心人格画像

### 大五人格推断
| 维度 | 得分 | 解读 |
|------|------|------|
| O(开放性) | 88/100 | 极高 - 喜欢抽象、概念、隐喻 |
| C(尽责性) | 65/100 | 中等 - 有计划但有时拖延 |
| E(外向性) | 20/100 | 极低 - I人，需要独处恢复能量 |
| A(宜人性) | 45/100 | 中等 - 有边界感，不过度迁就 |
| N(神经质) | 75/100 | 偏高 - 敏感，焦虑触发点明显 |

### 荣格原型分析
- **主原型**: 隐士 (The Hermit) - 追求内在智慧，逃避社交
- **次原型**: 智者 (The Sage) - 渴望看透本质
- **核心恐惧**: 被控制 / 被卷入无效社交
- **核心需求**: 掌控感 (Mastery) + 意义感 (Meaning)

---

## 🔥 深层驱动力分析

1. **掌控感** (Mastery)
   - 证据：审美选择"独自建城堡"，辩论中对"失控"的恐惧
   - 建议：选择能掌握全局的工作，如产品经理、技术专家

2. **意义感** (Meaning)
   - 证据：拒绝做螺丝钉，需要知道"为什么"
   - 建议：选择有使命感的团队，或在现有工作中寻找更大叙事

3. **自主性** (Autonomy)
   - 证据：高度反感被管控，悟中频繁出现"必须"
   - 建议：与管理层沟通清晰边界，或寻求更灵活的工作模式

---

## ⚠️ 核心矛盾识别

1. **独立 vs 认可的矛盾**
   - 显性：强调"我不需要别人认可"
   - 隐性：行为暴露高度在意他人评价（辩中被戳穿）
   - 类型：认知失调

2. **成长 vs 安全的矛盾**
   - 显性：口头上追求成长和挑战
   - 隐性：行为选择高薪稳定工作而非创业
   - 类型：价值观冲突

---

## 💡 行动建议

1. **正视"掌控感"需求**：这不是坏事，选择匹配的工作环境
2. **识别防御机制**：当你说"没办法"时，停下来问自己"真的吗？"
3. **接纳矛盾**：独立与认可不是对立的，可以同时追求
4. **小步试错**：从小项目开始，逐步验证"成长 vs 安全"的真实权重
5. **定期复盘**：每月回顾本报告，观察变化

---

## 📊 变化追踪（如有历史快照）

- **开放性**：上周80 → 本周88 (+8)，原因：尝试新领域
- **外向性**：无显著变化
- **神经质**：上周82 → 本周75 (-7)，原因：压力源解决

---

**免责声明**：本分析仅供自我探索参考，不替代专业心理咨询。
```

---

## 3. 镜融合算法说明

### 扎根理论编码步骤

1. **开放式编码**：从悟/辩/赏数据中提取原始概念
   - 悟：叙事模式、防御机制、关键词
   - 辩：价值观、认知偏误、双标
   - 赏：审美偏好、荣格类型、原型

2. **主轴编码**：将原始概念归类为高层主题
   - 人格维度（大五）
   - 原型特征（荣格）
   - 驱动力
   - 矛盾

3. **选择性编码**：提炼核心叙事
   - 用户的"核心剧本"是什么？
   - 哪些模式反复出现？
   - 哪些是表象，哪些是本质？

### 交叉验证规则

- **一致性检查**：悟/辩/赏的结论是否相互支撑？
- **权重分配**：直觉层（赏）权重最高，因为最难伪装
- **时间序列**：观察同一维度在不同时间点的变化

### 置信度标注

- **高置信度**：三个模块结论一致
- **中置信度**：两个模块一致，一个待定
- **低置信度**：数据不足或矛盾，标注"待更多数据"

---

## 4. 镜输出伦理原则

1. **描述性，非诊断性**
   - ✅ "你在职业选择中表现出习得性无助"
   - ❌ "你患有抑郁症"

2. **行动导向，非标签化**
   - ✅ "建议：选择能掌握全局的工作"
   - ❌ "你就是个控制狂"

3. **动态观，非固化观**
   - ✅ "本周数据显示..."
   - ❌ "你的人格永远是..."

4. **自我探索，非外部归因**
   - ✅ "你可以反思..."
   - ❌ "你父母的教育方式导致..."
